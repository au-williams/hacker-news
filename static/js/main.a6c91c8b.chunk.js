(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{18:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(19),r=s.n(n),i=s(21),h=s(8),o=s(10),l=s(12),d=s(11),j=(s(18),"search"),b="history",u="search_by_date",p="search",O=s(0),m=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=this,t=null;return t=this.props.isLoading?Object(O.jsx)("div",{children:"Fetching API results ..."}):this.props.content&&this.props.content.length?this.props.content.map((function(t,s){return e.props.pageRoute===j?function(e,t){var s="".concat(e.points," point").concat(1===e.points?"":"s"),c="".concat(e.num_comments," comment").concat(1===e.num_comments?"":"s");return Object(O.jsxs)("a",{href:"https://news.ycombinator.com/item?id=".concat(e.objectID),children:[Object(O.jsxs)("div",{children:[t+1,"."]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"result-head",children:e.title}),Object(O.jsx)("div",{className:"result-desc",children:"".concat(s," | ").concat(c)})]})]})}(t,s):function(e,t){var s=e.searchDate.toLocaleString(),c=e.searchSortBy===p?"relevance":"date";return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[t+1,"."]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"result-head",children:e.searchTerm}),Object(O.jsx)("div",{className:"result-desc",children:"".concat(s," | Sorted by ").concat(c)})]})]})}(t,s)})):Object(O.jsxs)("div",{children:["No ",this.props.pageRoute," results!"]}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsxs)("div",{id:"search-bar",children:[Object(O.jsx)("label",{children:"Search"}),Object(O.jsx)("input",{disabled:this.props.isReadOnly,onChange:this.props.onSearchTermChange,onKeyDown:this.props.onSearchKeyDown}),Object(O.jsx)("button",{disabled:this.props.isReadOnly,onClick:this.props.onSearchClick,children:"\u2192"}),Object(O.jsxs)("label",{children:[Object(O.jsx)("input",{defaultChecked:"true",disabled:this.props.isReadOnly,onChange:this.props.onSearchSortByChange,type:"checkbox"}),"Sort by relevance"]})]}),Object(O.jsx)("div",{id:"search-results",children:t})]})}}]),s}(c.Component),x=function e(t,s){Object(h.a)(this,e),this.searchDate=new Date,this.searchTerm=t,this.searchSortBy=s},y=s.p+"static/media/github-brands.e2f07326.svg",g=s.p+"static/media/info-circle-solid.92d3ccd5.svg",f=s.p+"static/media/times-circle-solid.13560fb8.svg",S=s(13),v=s(2),w=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(h.a)(this,s);for(var c=arguments.length,a=new Array(c),n=0;n<c;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={hidePanel:!1,isLoading:!1,searchHistory:[],searchResults:[],searchSortBy:p,searchTerm:""},e.handleKeyDown=function(t){"Enter"===t.key&&e.handleSearch()},e.handleSearch=function(){if(!e.state.searchTerm||!e.state.searchTerm.trim())e.setState({searchResults:[]});else{e.setState({isLoading:!0,searchHistory:[].concat(Object(i.a)(e.state.searchHistory),[new x(e.state.searchTerm,e.state.searchSortBy)])});var t="https://hn.algolia.com/api/v1/".concat(e.state.searchSortBy,"?tags=story&query=").concat(e.state.searchTerm);fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({isLoading:!1,searchResults:t.hits})})).catch((function(t){console.error("Error:",t),e.setState({isLoading:!1,searchResults:[]})}))}},e.handleSearchSortByChange=function(t){e.setState({searchSortBy:t.target.checked?p:u})},e.handleSearchTermChange=function(t){e.setState({searchTerm:t.target.value})},e}return Object(o.a)(s,[{key:"render",value:function(){var e=this;return Object(O.jsxs)(S.a,{children:[!this.state.hidePanel&&Object(O.jsxs)("div",{className:"panel",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("img",{src:g,alt:"Info circle icon"}),Object(O.jsx)("strong",{children:"Information"}),Object(O.jsx)("button",{onClick:function(){return e.setState({hidePanel:!0})},children:Object(O.jsx)("img",{src:f,alt:"Close icon",className:"close"})})]}),Object(O.jsxs)("div",{className:"content",children:["Hello! \ud83d\udc4b This web app is a small demo built with React JS and the ",Object(O.jsx)("a",{href:"https://hn.algolia.com/api",children:"Hacker News Algolia API"}),". All code was written by me with styles inspired by the actual website. I'm not affiliated with Hacker News, nor did I use any of their source code. This project is available on ",Object(O.jsx)("a",{href:"https://github.com/au-williams/hacker-news",children:"GitHub"})," along with its requirements. SVG icons are free to use with attribution to the free ",Object(O.jsx)("a",{href:"https://fontawesome.com/license",children:"FontAwesome license"}),". Thanks!"]})]}),Object(O.jsxs)("div",{className:"panel",children:[Object(O.jsxs)("nav",{className:"header",children:[Object(O.jsx)("a",{href:"https://github.com/au-williams/hacker-news",children:Object(O.jsx)("img",{src:y,alt:"GitHub icon"})}),Object(O.jsx)("strong",{children:"Hacker News "}),Object(O.jsx)("span",{children:"Search Demo"}),Object(O.jsxs)("ul",{children:["[",Object(O.jsx)("li",{children:Object(O.jsx)(S.b,{to:"/search",children:"search"})}),"|",Object(O.jsx)("li",{children:Object(O.jsx)(S.b,{to:"/history",children:"history"})}),"]"]}),Object(O.jsxs)("span",{children:[Object(O.jsx)("strong",{children:"Made by: "}),Object(O.jsx)("a",{href:"https://www.linkedin.com/in/auwilliams/",children:"Austin Williams"})]})]}),Object(O.jsxs)(v.d,{children:[Object(O.jsx)(v.b,{path:"/search",children:Object(O.jsx)(m,{content:this.state.searchResults,isLoading:this.state.isLoading,isReadOnly:!1,onSearchClick:this.handleSearch,onSearchKeyDown:this.handleKeyDown,onSearchSortByChange:this.handleSearchSortByChange,onSearchTermChange:this.handleSearchTermChange,pageRoute:j})}),Object(O.jsx)(v.b,{path:"/history",children:Object(O.jsx)(m,{content:this.state.searchHistory,isReadOnly:!0,pageRoute:b})}),Object(O.jsx)(v.a,{from:"/",to:"/search"})]})]})]})}}]),s}(c.Component);s(35);r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.a6c91c8b.chunk.js.map