{"version":3,"sources":["models/HistoryRecord.js","assets/logo_react.png","constants/ResultsRoute.js","constants/SearchSortBy.js","component/Results.js","component/App.js","index.js"],"names":["HistoryRecord","searchTerm","searchSortBy","this","searchDate","Date","Results","element","props","isLoading","content","length","map","record","key","pageRoute","pointString","points","commentString","num_comments","href","objectID","className","title","GetSearchElement","dateString","toLocaleString","sortString","SearchSortBy","GetHistoryElement","id","disabled","isReadOnly","onChange","onSearchTermChange","onKeyDown","onSearchKeyDown","onClick","onSearchClick","defaultChecked","onSearchSortByChange","type","Component","App","state","searchHistory","searchResults","handleKeyDown","e","handleSearch","trim","setState","input","fetch","then","res","json","result","hits","catch","error","console","handleSearchSortByChange","target","checked","handleSearchTermChange","value","src","Logo","to","path","ResultsRoute","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb200320.chunk.js","sourcesContent":["export default class HistoryRecord {\r\n    constructor(searchTerm, searchSortBy) {\r\n        this.searchDate = new Date();\r\n        this.searchTerm = searchTerm;\r\n        this.searchSortBy = searchSortBy;\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/logo_react.44461cfe.png\";","// pulling in route information from the browser is\r\n// inconsistent because of differences in localhost\r\n// and GitHub pages hash routing ... Use enum value\r\n// to simplify the process in our Results component\r\n\r\nexport default {\r\n    SEARCH: \"search\",\r\n    HISTORY: \"history\"\r\n};\r\n","// see: https://hn.algolia.com/api\r\nexport default {\r\n    DATE: \"search_by_date\",\r\n    RELEVANCE: \"search\"\r\n};\r\n","import \"./App.css\";\r\nimport React, { Component } from \"react\";\r\nimport SearchSortBy from \"../constants/SearchSortBy\";\r\n\r\n// build elements based on the HistoryRecord data model\r\nconst GetHistoryElement = (record, key) => {\r\n  const dateString = record.searchDate.toLocaleString();\r\n  const sortString = record.searchSortBy === SearchSortBy.RELEVANCE ? \"relevance\" : \"date\";\r\n\r\n  return (\r\n    <div>\r\n      <div>{key + 1}.</div>\r\n      <div>\r\n        <div className=\"result-head\">{record.searchTerm}</div>\r\n        <div className=\"result-desc\">{`${dateString} | Sorted by ${sortString}`}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// build elements based on the HackerNews API object\r\nconst GetSearchElement = (record, key) => {\r\n  const pointString = `${record.points} point${record.points === 1 ? \"\" : \"s\"}`;\r\n  const commentString = `${record.num_comments} comment${record.num_comments === 1 ? \"\" : \"s\"}`;\r\n\r\n  return (\r\n    <a href={`https://news.ycombinator.com/item?id=${record.objectID}`}>\r\n      <div>{key + 1}.</div>\r\n      <div>\r\n        <div className=\"result-head\">{record.title}</div>\r\n        <div className=\"result-desc\">{`${pointString} | ${commentString}`}</div>\r\n      </div>\r\n    </a>\r\n  );\r\n};\r\n\r\nclass Results extends Component {\r\n  render() {\r\n    let element = null;\r\n\r\n    if (this.props.isLoading) {\r\n      element = <div>Fetching API results ...</div>;\r\n    } else if (!this.props.content || !this.props.content.length) {\r\n      element = <div>No {this.props.pageRoute} results!</div>;\r\n    } else {\r\n      element = this.props.content.map((record, key) =>\r\n        this.props.pageRoute === \"search\"\r\n          ? GetSearchElement(record, key)\r\n          : GetHistoryElement(record, key)\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div id=\"search-bar\">\r\n          <label>Search</label>\r\n          <input\r\n            disabled={this.props.isReadOnly}\r\n            onChange={this.props.onSearchTermChange}\r\n            onKeyDown={this.props.onSearchKeyDown}\r\n          />\r\n          <button\r\n            disabled={this.props.isReadOnly}\r\n            onClick={this.props.onSearchClick}\r\n          >\r\n            â†’\r\n          </button>\r\n          <label>\r\n            <input\r\n              defaultChecked=\"true\"\r\n              disabled={this.props.isReadOnly}\r\n              onChange={this.props.onSearchSortByChange}\r\n              type=\"checkbox\"\r\n            />\r\n            Sort by relevance\r\n          </label>\r\n        </div>\r\n        <div id=\"search-results\">{element}</div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Results;\r\n","import \"./App.css\";\r\nimport HistoryRecord from \"../models/HistoryRecord\";\r\nimport Logo from \"../assets/logo_react.png\";\r\nimport React, { Component } from \"react\";\r\nimport ResultsRoute from \"../constants/ResultsRoute\";\r\nimport Results from \"./Results\";\r\nimport SearchSortBy from \"../constants/SearchSortBy\";\r\n\r\nimport {\r\n  HashRouter,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    isLoading: false,\r\n    searchHistory: [],\r\n    searchResults: [],\r\n    searchSortBy: SearchSortBy.RELEVANCE,\r\n    searchTerm: \"\",\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.key !== \"Enter\") return;\r\n    this.handleSearch();\r\n  };\r\n\r\n  handleSearch = () => {\r\n    const isNullOrWhiteSpace =\r\n      !this.state.searchTerm || !this.state.searchTerm.trim();\r\n\r\n    if (isNullOrWhiteSpace) {\r\n      // dont send empty data into the api\r\n      this.setState({ searchResults: [] });\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      isLoading: true,\r\n      searchHistory: [\r\n        ...this.state.searchHistory,\r\n        new HistoryRecord(this.state.searchTerm, this.state.searchSortBy),\r\n      ],\r\n    });\r\n\r\n    const input = `https://hn.algolia.com/api/v1/${this.state.searchSortBy}?tags=story&query=${this.state.searchTerm}`;\r\n\r\n    fetch(input)\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        this.setState({ isLoading: false, searchResults: result.hits });\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error:\", error);\r\n      });\r\n  };\r\n\r\n  handleSearchSortByChange = (e) => {\r\n    this.setState({\r\n      searchSortBy: e.target.checked\r\n        ? SearchSortBy.RELEVANCE\r\n        : SearchSortBy.DATE,\r\n    });\r\n  };\r\n\r\n  handleSearchTermChange = (e) => {\r\n    this.setState({ searchTerm: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <div id=\"content\">\r\n          <nav>\r\n            <img src={Logo}></img>\r\n            <span>\r\n              <strong>Hacker News</strong> Search App\r\n            </span>\r\n            <ul>\r\n              [\r\n              <li>\r\n                <Link to=\"/search\">search</Link>\r\n              </li>\r\n              |\r\n              <li>\r\n                <Link to=\"/history\">history</Link>\r\n              </li>\r\n              ]\r\n            </ul>\r\n            <div>\r\n              <strong>Made by:</strong>\r\n              <a href=\"https://www.linkedin.com/in/auwilliams/\">\r\n                Austin Williams\r\n              </a>\r\n            </div>\r\n          </nav>\r\n          {/*\r\n            The application architecture was designed to utilize the same results view\r\n            to support future enhancements ... Such as searching through history items.\r\n            For now make the history inputs read-only until that work has been defined.\r\n          */}\r\n          <Switch>\r\n            <Route path=\"/search\">\r\n              <Results\r\n                content={this.state.searchResults}\r\n                isLoading={this.state.isLoading}\r\n                isReadOnly={false}\r\n                onSearchClick={this.handleSearch}\r\n                onSearchKeyDown={this.handleKeyDown}\r\n                onSearchSortByChange={this.handleSearchSortByChange}\r\n                onSearchTermChange={this.handleSearchTermChange}\r\n                pageRoute={ResultsRoute.SEARCH}\r\n              />\r\n            </Route>\r\n            <Route path=\"/history\">\r\n              <Results\r\n                content={this.state.searchHistory}\r\n                isReadOnly={true}\r\n                pageRoute={ResultsRoute.HISTORY}/>\r\n            </Route>\r\n            <Redirect from=\"/\" to=\"/search\" />\r\n          </Switch>\r\n        </div>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './component/App';\r\nimport './index.css';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}